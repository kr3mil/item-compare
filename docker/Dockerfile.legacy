# Legacy Minecraft modding (Forge 1.8.9)
FROM openjdk:8-jdk-slim

# Install necessary tools
RUN apt-get update && apt-get install -y \
    curl \
    unzip \
    git \
    && rm -rf /var/lib/apt/lists/*

# Set working directory  
WORKDIR /workspace

# Copy legacy project files
COPY forge-1.8.9/ ./

# Make gradlew executable
RUN chmod +x gradlew

# Cache dependencies
RUN ./gradlew dependencies --no-daemon || true

# Default command
CMD ["./gradlew", "build", "--no-daemon"]